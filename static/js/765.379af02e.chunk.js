"use strict";(self.webpackChunkcar_rental_app=self.webpackChunkcar_rental_app||[]).push([[765],{7335:function(e,n,a){a.d(n,{Z:function(){return x}});var t=a(4942),r=a(1413),s=a(9439),l=a(2791),i=a(4420),o=a(8617),c=a(71),d={Backdrop:"Modal_Backdrop__7zwOB",ModalContainer:"Modal_ModalContainer__xBW4j",CloseButton:"Modal_CloseButton__ATdYL",ContentWrapper:"Modal_ContentWrapper__3v3BX",CarImg:"Modal_CarImg__-45y1",InfoWrapper:"Modal_InfoWrapper__E7pMk",MainInfo:"Modal_MainInfo__H7OBS",CarInfo:"Modal_CarInfo__q0MK6",CarText:"Modal_CarText__C8sXj",ModelBlue:"Modal_ModelBlue__TV2BK",SecondaryInfo:"Modal_SecondaryInfo__UDfAP",SecondaryCarText:"Modal_SecondaryCarText__bKjam",Descriprion:"Modal_Descriprion__rqJEm",Accessories:"Modal_Accessories__kBvyl",AccessoriesTitle:"Modal_AccessoriesTitle__wF0KY",AccessoryList:"Modal_AccessoryList__CXs7n",AccessoryListItem:"Modal_AccessoryListItem__tIWuK",RentalBlock:"Modal_RentalBlock__34IcA",RentalTitle:"Modal_RentalTitle__FaJwC",RentalInfo:"Modal_RentalInfo__NKQMb",RentalItem:"Modal_RentalItem__V6iSb",RentalButton:"Modal_RentalButton__NjdsC"},u=a(184),m=function(e){var n=e.isOpen,a=e.onClose,t=e.model,r=e.make,s=e.id,i=e.img,o=e.year,m=e.address,f=e.rentalPrice,p=e.type,x=e.functionalities,_=e.fuelConsumption,h=e.engineSize,g=e.description,v=e.accessories,C=e.rentalConditions,j=e.mileage,N=(0,l.useCallback)((function(e){27===e.keyCode&&a()}),[a]);(0,l.useEffect)((function(){return n&&document.addEventListener("keydown",N),function(){document.removeEventListener("keydown",N)}}),[n,N]);var I=m.split(", "),M=I[1],b=I[2],y=C.split("\n",3),k=y[0].match(/\d+/),S=parseInt(k[0],10);return(0,u.jsx)("div",{className:d.Backdrop,onClick:a,children:(0,u.jsx)("div",{className:d.ModalContainer,children:(0,u.jsxs)("div",{className:d.ContentWrapper,children:[(0,u.jsx)("button",{type:"button","aria-label":"close button",onClick:a,className:d.CloseButton,children:(0,u.jsx)(c.bjh,{size:22})}),(0,u.jsx)("img",{className:d.CarImg,src:i,alt:r}),(0,u.jsxs)("div",{className:d.InfoWrapper,children:[(0,u.jsx)("div",{className:d.MainInfo,children:(0,u.jsxs)("div",{className:d.CarInfo,children:[(0,u.jsx)("div",{className:d.CarText,children:r}),(0,u.jsxs)("div",{className:d.ModelBlue,children:[t,(0,u.jsx)("span",{style:{color:"black"},children:","})]}),(0,u.jsx)("div",{className:d.CarText,children:o})]})}),(0,u.jsxs)("div",{className:d.SecondaryInfo,children:[(0,u.jsx)("div",{className:d.SecondaryCarText,children:M}),(0,u.jsx)("div",{className:d.SecondaryCarText,children:b}),(0,u.jsxs)("div",{className:d.SecondaryCarText,children:["id: ",s]}),(0,u.jsxs)("div",{className:d.SecondaryCarText,children:["Year: ",o]}),(0,u.jsxs)("div",{className:d.SecondaryCarText,children:["Type: ",p]}),(0,u.jsxs)("div",{className:d.SecondaryCarText,children:["Fuel Consumption: ",_]}),(0,u.jsxs)("div",{className:d.SecondaryCarText,children:["Engine Size: ",h]})]}),(0,u.jsx)("div",{className:d.Description,children:g}),(0,u.jsxs)("div",{className:d.Accessories,children:[(0,u.jsx)("div",{className:d.AccessoriesTitle,children:"Accessories and functionalities:"}),(0,u.jsxs)("ul",{className:d.AccessoryList,children:[v.map((function(e,n){return(0,u.jsx)("li",{className:d.AccessoryListItem,children:e},n)})),x.map((function(e,n){return(0,u.jsx)("li",{className:d.AccessoryListItem,children:e},n)}))]})]}),(0,u.jsxs)("div",{className:d.RentalBlock,children:[(0,u.jsx)("div",{className:d.RentalTitle,children:"Rental Conditions:"}),(0,u.jsxs)("div",{className:d.RentalInfo,children:[(0,u.jsxs)("div",{className:d.RentalItem,children:["Minimum age: ",(0,u.jsx)("span",{children:S})]}),(0,u.jsx)("div",{className:d.RentalItem,children:y[1]}),(0,u.jsx)("div",{className:d.RentalItem,children:y[2]}),(0,u.jsxs)("div",{className:d.RentalItem,children:["Mileage: ",(0,u.jsx)("span",{children:j.toLocaleString("en-EN")})]}),(0,u.jsxs)("div",{className:d.RentalItem,children:["Price: ",(0,u.jsx)("span",{children:f})]})]})]}),(0,u.jsx)("a",{href:"tel:+380730000000",className:d.RentalButton,children:"Rental car"})]})]})})})},f={carList:"CarList_carList__tm3hI",carItem:"CarList_carItem__Pk2at",carImage:"CarList_carImage__8BNrY",titleContainer:"CarList_titleContainer__7mIAN",titleInfo:"CarList_titleInfo__2uDt8",titleInfoText:"CarList_titleInfoText__hbX5i",titleInfoTextBlue:"CarList_titleInfoTextBlue__+7bkj",infoContainer:"CarList_infoContainer__u5g-C",infoText:"CarList_infoText__p9cSQ",buttonLearnMore:"CarList_buttonLearnMore__Al437",likeIcon:"CarList_likeIcon__yGRS0"},p=a(4137),x=function(e){var n=e.cars,a=(0,i.I0)(),c=(0,l.useState)(!1),d=(0,s.Z)(c,2),x=d[0],_=d[1],h=(0,i.v9)((function(e){return e.favorite})),g=function(e){return h.some((function(n){return n===e}))};return(0,u.jsx)("div",{className:f.carListContainer,children:(0,u.jsx)("ul",{className:f.carList,children:n.map((function(e){var n=e.model,s=e.make,l=e.id,i=e.img,c=e.year,d=e.address,h=e.rentalPrice,v=e.rentalCompany,C=e.type,j=e.functionalities,N=e.fuelConsumption,I=e.engineSize,M=e.description,b=e.accessories,y=e.rentalConditions,k=e.mileage,S=d.split(", "),T=S[1],L=S[2],Z=j[0].split(" ").slice(0,1).join(" ");return(0,u.jsxs)("li",{className:f.carItem,children:[(0,u.jsx)("img",{src:i,alt:"car",className:f.carImage}),(0,u.jsx)("div",{className:f.likeIcon,onClick:function(){var e;g(e=l)?a((0,p.L6)(e)):a((0,p.gv)(e))},children:g(l)?(0,u.jsx)(o.dOX,{color:"#3470ff",size:18}):(0,u.jsx)(o.wkn,{size:18})}),(0,u.jsxs)("div",{className:f.titleContainer,children:[(0,u.jsxs)("div",{className:f.titleInfo,children:[(0,u.jsxs)("p",{className:f.titleInfoText,children:[s,"\xa0"]}),(0,u.jsxs)("p",{className:"".concat(f.titleInfoText," ").concat(f.titleInfoTextBlue),children:[n,",\xa0"]}),(0,u.jsx)("p",{className:f.titleInfoText,children:c})]}),(0,u.jsx)("p",{className:f.titleInfoText,children:h})]}),(0,u.jsxs)("div",{className:f.infoContainer,children:[(0,u.jsx)("p",{className:f.infoText,children:T}),(0,u.jsx)("p",{className:f.infoText,children:L}),(0,u.jsx)("p",{className:f.infoText,children:v}),(0,u.jsx)("p",{className:f.infoText,children:C}),(0,u.jsx)("p",{className:f.infoText,children:n}),(0,u.jsx)("p",{className:f.infoText,children:l}),(0,u.jsx)("p",{className:f.infoText,children:Z})]}),(0,u.jsx)("button",{type:"button",className:f.buttonLearnMore,onClick:function(){return e=l,void _((function(n){return(0,r.Z)((0,r.Z)({},n),{},(0,t.Z)({},e,!0))}));var e},children:"Learn more"}),x[l]&&(0,u.jsx)(m,{onClose:function(){return e=l,void _((function(n){return(0,r.Z)((0,r.Z)({},n),{},(0,t.Z)({},e,!1))}));var e},model:n,make:s,year:c,rentalPrice:h,address:d,rentalCompany:v,functionalities:j,id:l,type:C,img:i,fuelConsumption:N,engineSize:I,description:M,accessories:b,rentalConditions:y,mileage:k},l)]},l)}))})})}},7765:function(e,n,a){a.r(n),a.d(n,{default:function(){return P}});var t=a(3433),r=a(5861),s=a(9439),l=a(4687),i=a.n(l),o=a(2791),c=a(4420),d=a(7689),u=a(9041),m=a(184),f=function(){return(0,m.jsx)(u.Yt,{visible:!0,height:"200",width:"200",ariaLabel:"MagnifyingGlass-loading",wrapperStyle:{margin:"20"},wrapperClass:"MagnifyingGlass-wrapper",glassColor:"white",color:"rgba(52, 112, 255, 1)\n"})},p=a(7335),x=a(1413),_=a(5985),h=a(4602),g="Button_buttonSearch__FmJV3",v=function(e){var n=e.onClick;return(0,m.jsx)("button",{type:"button",className:g,onClick:n,children:"Search"})},C="Filter_Container__2veh+",j="Filter_SelectContainer__VEX8h",N="Filter_Label__MldcW",I="Filter_Form__Pf0yy",M="Filter_InputContainer__UoAb8",b="Filter_InputLeft__+MB8N",y="Filter_InputRight__ydlsN",k=function(e){var n=e.makes,a=e.prices,t=e.onFilterChange,r=(0,o.useState)(null),l=(0,s.Z)(r,2),i=l[0],c=l[1],d=(0,o.useState)(null),u=(0,s.Z)(d,2),f=u[0],p=u[1],x=(0,o.useState)(""),g=(0,s.Z)(x,2),k=g[0],T=g[1],L=(0,o.useState)(""),Z=(0,s.Z)(L,2),F=Z[0],B=Z[1],w=(0,o.useState)(""),A=(0,s.Z)(w,2),R=A[0],P=A[1],E=n.map((function(e){return{value:e,label:e}})),z=Array.from({length:48},(function(e,n){var a=30+10*n;return{value:a,label:"".concat(a)}})),W=a.filter((function(e){return e<=f}));console.log(W);var O=function(e){return e.toString().replace(/,/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,",")},K=function(e,n){n(e.target.value)};return(0,m.jsxs)("div",{className:C,children:[(0,m.jsxs)("div",{className:j,children:[(0,m.jsx)("label",{htmlFor:"nameSelect",className:N,children:"Car brand"}),(0,m.jsx)(h.ZP,{id:"nameSelect",placeholder:"Enter the text",value:i,isClearable:!0,onChange:function(e){return c(e)},options:E,styles:S,components:{IndicatorSeparator:function(){return null}}})]}),(0,m.jsxs)("div",{className:j,children:[(0,m.jsx)("label",{htmlFor:"priceSelect",className:N,children:"Price/ 1 hour"}),(0,m.jsx)(h.ZP,{id:"priceSelect",placeholder:"To $",isClearable:!0,value:f?{value:f,label:k}:null,onChange:function(e){p(e.value),T(e.label)},options:z,styles:S,components:{IndicatorSeparator:function(){return null}}})]}),(0,m.jsxs)("form",{className:I,children:[(0,m.jsx)("label",{className:N,children:"Car mileage / km"}),(0,m.jsxs)("div",{className:M,children:[(0,m.jsx)("input",{className:b,type:"text",placeholder:"From",value:O(F),onChange:function(e){return K(e,B)}}),(0,m.jsx)("input",{className:y,placeholder:"To",type:"text",value:O(R),onChange:function(e){return K(e,P)}})]})]}),(0,m.jsx)(v,{onClick:function(){var e=parseInt(F.replace(/,/g,""),10),n=parseInt(R.replace(/,/g,""),10);if(console.log("Input values:",F,R),console.log("Parsed mileage values:",e,n),e>n)_.Am.error("The maximum mileage must exceed the minimum mileage.");else{var a={make:i,filteredPrices:W.map((function(e){return{value:e,label:"".concat(e)}}))||[],minMileage:e,maxMileage:n};console.log(a,"newFilters"),t(a)}}})]})},S={control:function(e){return(0,x.Z)((0,x.Z)({},e),{},{width:"224px",height:"48px",borderColor:"rgba(18, 20, 23, 0.2)",border:"none",borderRadius:"14px",padding:"8px",fontSize:"16px",fontFamily:"Manrope",backgroundColor:"rgba(247, 247, 251, 1)",appearance:"none"})},option:function(e,n){var a=n.isFocused;return(0,x.Z)((0,x.Z)({},e),{},{color:a?"black":"rgba(18, 20, 23, 0.2)",fontFamily:"Manrope"})},placeholder:function(e){return(0,x.Z)((0,x.Z)({},e),{},{color:"rgba(18, 20, 23, 1)"})},dropdownIndicator:function(e,n){return(0,x.Z)((0,x.Z)({},e),{},{transition:"all .2s ease",transform:n.selectProps.menuIsOpen?"rotate(180deg)":null})}},T=a(8699),L=a(5294);L.Z.defaults.baseURL="https://6571f80ad61ba6fcc0141958.mockapi.io";var Z=function(){var e=(0,r.Z)(i().mark((function e(){var n,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.Z.get("/cars");case 3:return n=e.sent,a=n.data,e.abrupt("return",a);case 8:throw e.prev=8,e.t0=e.catch(0),console.error("Error getting total cars:",e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),F="ButtonLoadMore_buttonLoadMore__IOwLn",B=function(e){var n=e.onLoadMore;return(0,m.jsx)("button",{className:F,type:"submit",onClick:n,children:"Load more"})},w=function(e){return e.cars.items},A=a(9562),R=a(2601);var P=function(){var e=(0,c.v9)(w),n=(0,c.v9)(A.MS),a=(0,c.I0)(),l=(0,o.useState)(1),u=(0,s.Z)(l,2),x=u[0],_=u[1],h=(0,o.useState)(0),g=(0,s.Z)(h,2),v=g[0],C=g[1],j=(0,o.useState)(!1),N=(0,s.Z)(j,2),I=N[0],M=N[1],b=(0,o.useState)({make:"",filteredPrices:[],minMileage:"",maxMileage:""}),y=(0,s.Z)(b,2),S=y[0],L=y[1],F=(0,o.useState)(null),P=(0,s.Z)(F,2),E=P[0],z=P[1],W=(0,o.useState)(!1),O=(0,s.Z)(W,2),K=O[0],X=O[1],D=(0,o.useState)(null),Y=(0,s.Z)(D,1)[0];(0,o.useEffect)((function(){var e=function(){var e=(0,r.Z)(i().mark((function e(){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z();case 3:n=e.sent,a((0,A.Nv)(n)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error fetching total cars:",e.t0);case 10:return e.prev=10,M(!1),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[0,7,10,13]])})));return function(){return e.apply(this,arguments)}}();M(!0),e()}),[a]),(0,o.useEffect)((function(){v!==x&&(a((0,R.c)(x)),C(x))}),[a,x,v]);var V=e?(0,t.Z)(new Set(e.map((function(e){return e.make})))):[],G=e?(0,t.Z)(new Set(e.map((function(e){return e.rentalPrice.replace("$","")})))):[];(0,o.useEffect)((function(){if(K)if(console.log("Applying Filters"),S.make||S.filteredPrices.length>0||S.minMileage||S.maxMileage){console.log("Inside Filters Block");var n=e.filter((function(e){return console.log("Checking Car:",e),S.make&&e.make!==S.make.value?(console.log("Make Filter Failed"),!1):S.filteredPrices.length>0&&!S.filteredPrices.some((function(n){return n.value===e.rentalPrice.replace("$","")}))?(console.log("Price Filter Failed"),!1):S.minMileage&&e.mileage<S.minMileage?(console.log("Min Mileage Filter Failed"),!1):S.maxMileage&&e.mileage>S.maxMileage?(console.log("Max Mileage Filter Failed"),!1):(console.log("Passed All Filters"),!0)}));console.log("Filtered Cars:",n),z(n)}else console.log("No Filters Applied"),z([])}),[S,e,K]);var J=K?null!==E&&E.length>0?E.map((function(e,n){return(0,m.jsx)(p.Z,{cars:[e]},n)})):(0,m.jsx)("div",{children:"No matches found based on the chosen criteria."}):Y?(0,m.jsx)(m.Fragment,{children:"Oops, there was an error..."}):I?(0,m.jsx)(f,{}):e.length>0?(0,m.jsx)(p.Z,{cars:e}):null;return(0,m.jsxs)("div",{className:T.Z.catalogContainer,children:[I&&(0,m.jsx)(f,{}),(0,m.jsx)(k,{makes:V,prices:G,onFilterChange:function(e){L(e),X(!0)}}),J,!K&&n.length>e.length&&(0,m.jsx)(B,{onLoadMore:function(){_((function(e){return e+1}))}}),(0,m.jsx)(o.Suspense,{fallback:(0,m.jsx)(f,{center:!0,content:"loading"}),children:(0,m.jsx)(d.j3,{})})]})}},8699:function(e,n){n.Z={catalogContainer:"CatalogPage_catalogContainer__mn9Zl"}}}]);
//# sourceMappingURL=765.379af02e.chunk.js.map